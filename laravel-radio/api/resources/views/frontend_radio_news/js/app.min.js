async function fetchTVSchedule(){try{const e=await fetch("https://8adg.com.ar/test.json",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Server returned ${e.status} ${e.statusText}`);const t=await e.json();return t}catch(e){return console.error("Error fetching TV schedule:",e.message),[]}}function getCurrentDateTime(){return moment().tz("America/Argentina/Buenos_Aires")}function formatTime(e){return moment(e,"HH:mm:ss").format("HH:mm:ss")}async function displayShows(){document.getElementById("loadingIndicator").style.display="block";const e=await fetchTVSchedule(),t=getCurrentDateTime(),n=t.format("dddd"),r=t.format("HH:mm:ss"),o=e.find(e=>e.day===n&&moment(r,"HH:mm:ss").isBetween(moment(e.time,"HH:mm:ss"),moment(e.time,"HH:mm:ss").add(1,"hours"))),a=e.find(e=>e.day===n&&moment(e.time,"HH:mm:ss").isAfter(moment(r,"HH:mm:ss"))),s=document.getElementById("currentShowContainer");if(o){const e=document.getElementById("currentShowTemplate").innerHTML,t=formatTime(o.time),r=formatTime(moment(o.time,"HH:mm:ss").add(1,"hours").format("HH:mm:ss")),a=e.replace("{{showName}}",o.show).replace("{{showStaff}}",o.staff).replace("{{day}}",n).replace("{{startTime}}",t).replace("{{endTime}}",r).replace("{{imageUrl}}",o.imageUrl?o.imageUrl:"iconos/512.png");s.innerHTML=a}else{const e=s.innerHTML;""!==e.trim()?s.innerHTML=e:s.innerHTML="No show currently scheduled."}const i=document.getElementById("nextShowContainer");if(a){const e=document.getElementById("nextShowTemplate").innerHTML,t=formatTime(a.time),r=e.replace("{{showName}}",a.show).replace("{{day}}",n).replace("{{startTime}}",t).replace("{{imageUrl}}",a.imageUrl?a.imageUrl:"iconos/512.png");i.innerHTML=r}else i.innerHTML="No next show scheduled.";document.getElementById("loadingIndicator").style.display="none"}function initPlayers(){var e=document.querySelectorAll(".player-container");e.forEach(function(e){initPlayer(e)})}function initPlayer(e){function t(){!1===n.paused?(n.pause(),$("#play-btn").removeClass("pause")):(n.play(),$("#play-btn").addClass("pause"))}var n=e.querySelector(".player"),r=e.querySelector(".play-btn");r.addEventListener("click",function(){t()})}function updateProgress(){}moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miercoles_Jueves_Viernes_Sabado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),displayShows(),setInterval(displayShows,6e4),initPlayers();var buttons=document.querySelectorAll(".play-btn");buttons.forEach(function(e){e.addEventListener("click",function(){updateProgress()})});